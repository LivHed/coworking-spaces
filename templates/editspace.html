{% extends 'base.html' %} {% block content %}



<div class "row">
    <h3 class="text-center">Edit Coworking space</h3>
    <form action="{{ url_for('insert_coworkingspace') }}" method="POST" class="col-12">

        <div class="row">
            <div class="form-group col-12">
                <label for="exampleFormControlSelect1"><strong>City</strong></label>
                <select class="form-control" id="city" name="city_name">
      <option value="" placeholder="Choose a city" disabled selected>Choose a city</option>
      {% for city in cities %}
      {% if city.city_name == coworkingspace.city_name %}
        <option value="{{city.city_name}}" selected >{{city.city_name}}</option>
        {% else %}
         <option value="{{city.city_name}}">{{city.city_name}}</option>
        {% endif %}
      {% endfor %}
    </select>
            </div>
        </div>

        <div class="row">
            <div class="form-group col-12">
                <label for="exampleFormControlInput1"><strong>The name of the Coworking space</strong></label>
                <input type="text" class="form-control" id="coworking_name" name="coworking_name" value="{{coworkingspace.coworking_name}}">
            </div>
        </div>

        <div class="row">
            <div class="form-group col-12">
                <label for="exampleFormControlInput1"><strong>Description of the Coworking space</strong></label>
                <textarea type="text" class="form-control" id="coworking_description" name="coworking_description">{{coworkingspace.coworking_description}}</textarea>
            </div>
        </div>

        <div class="row">
            <div class="form-group col-12">
                <label for="exampleFormControlInput1"><strong>Address</strong></label>
                <input type="text" class="form-control" id="coworking_address" name="coworking_address" value="{{coworkingspace.coworking_address}}">
            </div>
        </div>

        <div class="row">
            <div class="md-form col-4">
                <label for="openingHours"><strong>Opening hours</strong></label>
                <p id="opening_hours">
                    <input placeholder="Opening time" type="text" class="form-control time start" id="opening_hours" name="opening_hours" value="{{coworkingspace.opening_hours}}">
                    <input placeholder="Closing time" type="text" class="form-control time end" id="opening_hours" name="opening_hours" value="{{coworkingspace.opening_hours}}">
                </p>
            </div>
        </div>

        <div class="row">
            <div class="form-group col-12">
                <label for="exampleFormControlInput1"><strong>A link to the homepage</strong></label>
                <input type="text" class="form-control" id="website_url" name="website_url" value="{{coworkingspace.website_url}}">
            </div>
        </div>

        <div class="row">
            <div class="col-12">
                <button type="submit" class="btn btn-m btn-outline-secondary">Update changes</button>
            </div>
        </div>

    </form>
</div>


<div class="row">
    <div class="col-12">
     <p id="deleteparagraph"><strong>Or delete this coworkingspace here:</strong></p>
     
<!-- Button that triggers the modal -->
<button type="button" class="btn btn-m btn-outline-danger" id="deletebutton" data-toggle="modal" data-target="#deletecoworkingspace">
  Delete coworkingspace
</button>
</div>
</div>

<!-- The modal -->
<div class="row">
<div class="col-12">
<div class="modal fade" id="deletecoworkingspace" tabindex="-1" role="dialog" aria-labelledby="deleteCoworkingLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="deleteCoworkingLabel"><strong>Are you sure you want to delete this coworkingspace?</strong></h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
            </div>
            <div class="modal-body">
                This will delete the coworkingspace permanently from the list. 
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">No, go back</button>
                <button type="button" class="btn btn-primary">Yes, IÂ´m sure</button>
            </div>
        </div>
    </div>
</div>

</div>
</div>

<script src="//cdnjs.cloudflare.com/ajax/libs/timepicker/1.3.5/jquery.timepicker.min.js"></script>
<script type="text/javascript">
    $(document).ready(function() {
        //created the local variable opening_hours here with functions to inject the opening hours into the form field intended for this.
        opening_hours = Time.parse('{{coworkingspace.opening_hours}}');
        $('#opening_hours').timepicker('picker').set('select', opening_hours, { timeFormat: 'h:mm p - h:mm p' }).trigger('change')
    });
</script>

{% endblock %}
